{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport { useStore } from 'vuex';\nimport { onMounted } from 'vue';\nimport { db } from '@/firebase';\nimport { collection, addDoc, onSnapshot } from \"firebase/firestore\";\nexport default {\n  __name: 'ReceberDados',\n  setup(__props) {\n    const store = useStore();\n    onMounted(async () => {\n      onSnapshot(collection(db, \"usuarios\"), snapshot => {\n        snapshot.forEach(docUsuario => {\n          // Criar novo saldo\n          if (docUsuario.data().gmail === store.state.token.gmail) {\n            if (store.state.token.id === '') {\n              store.state.token.id = docUsuario.id;\n              store.commit('addToken', store.state.token);\n              addDoc(collection(db, 'saldo'), {\n                idUser: docUsuario.id,\n                saldo: 0,\n                receita: 0,\n                gasto: 0\n              });\n            }\n          }\n        });\n      });\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\");\n    };\n  }\n};","map":{"version":3,"names":["useStore","onMounted","db","collection","addDoc","onSnapshot","store","snapshot","forEach","docUsuario","data","gmail","state","token","id","commit","idUser","saldo","receita","gasto"],"sources":["C:/Users/PC/Documents/GitHub/daskfinances/src/components/FirebaseData/ReceberDados.vue"],"sourcesContent":["<template>\r\n  <div></div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useStore } from 'vuex';\r\nimport { onMounted } from 'vue';\r\nimport { db } from '@/firebase'\r\nimport { collection, addDoc, onSnapshot } from \"firebase/firestore\";\r\n\r\nconst store = useStore()\r\n\r\nonMounted(async () => {\r\n\r\n  onSnapshot(collection(db, \"usuarios\"), (snapshot) => {\r\n    snapshot.forEach((docUsuario) => {\r\n      // Criar novo saldo\r\n      if (docUsuario.data().gmail === store.state.token.gmail) {\r\n        if (store.state.token.id === '') {\r\n          store.state.token.id = docUsuario.id\r\n          store.commit('addToken',store.state.token)\r\n\r\n          addDoc(collection(db,'saldo'), {\r\n            idUser: docUsuario.id,\r\n            saldo: 0,\r\n            receita: 0,\r\n            gasto: 0\r\n          })\r\n        }\r\n      }\r\n    })\r\n  });\r\n})\r\n\r\n</script>"],"mappings":";AAKA,SAASA,QAAQ,QAAQ,MAAM;AAC/B,SAASC,SAAS,QAAQ,KAAK;AAC/B,SAASC,EAAE,QAAQ,YAAY;AAC/B,SAASC,UAAU,EAAEC,MAAM,EAAEC,UAAU,QAAQ,oBAAoB;;;;IAEnE,MAAMC,KAAK,GAAGN,QAAQ,CAAC,CAAC;IAExBC,SAAS,CAAC,YAAY;MAEpBI,UAAU,CAACF,UAAU,CAACD,EAAE,EAAE,UAAU,CAAC,EAAGK,QAAQ,IAAK;QACnDA,QAAQ,CAACC,OAAO,CAAEC,UAAU,IAAK;UAC/B;UACA,IAAIA,UAAU,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,KAAKL,KAAK,CAACM,KAAK,CAACC,KAAK,CAACF,KAAK,EAAE;YACvD,IAAIL,KAAK,CAACM,KAAK,CAACC,KAAK,CAACC,EAAE,KAAK,EAAE,EAAE;cAC/BR,KAAK,CAACM,KAAK,CAACC,KAAK,CAACC,EAAE,GAAGL,UAAU,CAACK,EAAE;cACpCR,KAAK,CAACS,MAAM,CAAC,UAAU,EAACT,KAAK,CAACM,KAAK,CAACC,KAAK,CAAC;cAE1CT,MAAM,CAACD,UAAU,CAACD,EAAE,EAAC,OAAO,CAAC,EAAE;gBAC7Bc,MAAM,EAAEP,UAAU,CAACK,EAAE;gBACrBG,KAAK,EAAE,CAAC;gBACRC,OAAO,EAAE,CAAC;gBACVC,KAAK,EAAE;cACT,CAAC,CAAC;YACJ;UACF;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}