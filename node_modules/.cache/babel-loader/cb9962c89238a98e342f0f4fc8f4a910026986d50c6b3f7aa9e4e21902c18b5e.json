{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport store from '@/store';\nimport { ref } from 'vue';\nimport ConfirmModal from '@/components/Popups/PanelPopups/ConfirmModal.vue';\nimport NotificationBox from '@/components/Notifications/NotificationBox.vue';\nimport NewNotification from '@/components/Notifications/NewNotification.vue';\nimport BadgeIcon from '@/components/Notifications/BadgeIcon.vue';\nimport { db } from '@/firebase';\nimport { collection, onSnapshot } from \"firebase/firestore\";\nimport { onMounted } from 'vue';\nexport default {\n  __name: 'DashBoardView',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    let imgDask = require('../../assets/logo-daskfinances-semfundo.png');\n    let notificationsList = ref([]);\n    onMounted(async () => {\n      onSnapshot(collection(db, \"notifications\"), snapshot => {\n        let notifications = [];\n        snapshot.forEach(notification => {\n          if (store.state.token.id === notification.data().idUser) {\n            notifications.push({\n              id: notification.id,\n              icon: imgDask,\n              title: notification.data().title,\n              text: notification.data().text,\n              date: notification.data().date,\n              link: notification.data().link\n            });\n          }\n        });\n        notificationsList.value = notifications;\n      });\n    });\n    const readNotification = () => {\n      notificationsList.value.forEach(notification => {\n        const transactionDocRef = doc(db, 'notifications', notification.id);\n        updateDoc(transactionDocRef, {\n          unread\n        });\n      });\n    };\n    let imgAvatar = require('@/assets/logo-daskfinances-semfundo.png');\n    let nome = ref(store.state.token.nome);\n    const logout = () => {\n      stateConfirmModal.value = true;\n    };\n    let isDrawer = ref(true);\n\n    // sign out of account\n\n    let stateConfirmModal = ref(false);\n    const cancelButton = () => {\n      stateConfirmModal.value = false;\n    };\n    const confirmButton = () => {\n      location.href = '/';\n      store.commit('addToken', {});\n    };\n    const __returned__ = {\n      get imgDask() {\n        return imgDask;\n      },\n      set imgDask(v) {\n        imgDask = v;\n      },\n      get notificationsList() {\n        return notificationsList;\n      },\n      set notificationsList(v) {\n        notificationsList = v;\n      },\n      readNotification,\n      get imgAvatar() {\n        return imgAvatar;\n      },\n      set imgAvatar(v) {\n        imgAvatar = v;\n      },\n      get nome() {\n        return nome;\n      },\n      set nome(v) {\n        nome = v;\n      },\n      logout,\n      get isDrawer() {\n        return isDrawer;\n      },\n      set isDrawer(v) {\n        isDrawer = v;\n      },\n      get stateConfirmModal() {\n        return stateConfirmModal;\n      },\n      set stateConfirmModal(v) {\n        stateConfirmModal = v;\n      },\n      cancelButton,\n      confirmButton,\n      get store() {\n        return store;\n      },\n      ref,\n      ConfirmModal,\n      NotificationBox,\n      NewNotification,\n      BadgeIcon,\n      get db() {\n        return db;\n      },\n      get collection() {\n        return collection;\n      },\n      get onSnapshot() {\n        return onSnapshot;\n      },\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["store","ref","ConfirmModal","NotificationBox","NewNotification","BadgeIcon","db","collection","onSnapshot","onMounted","imgDask","require","notificationsList","snapshot","notifications","forEach","notification","state","token","id","data","idUser","push","icon","title","text","date","link","value","readNotification","transactionDocRef","doc","updateDoc","unread","imgAvatar","nome","logout","stateConfirmModal","isDrawer","cancelButton","confirmButton","location","href","commit"],"sources":["C:/Users/PC/Documents/GitHub/daskfinances/src/views/master/DashBoardView.vue"],"sourcesContent":["<template>\r\n  <v-app theme=\"dark\">\r\n    <v-navigation-drawer\r\n      color=\"#25272c\"\r\n      v-model=\"isDrawer\"\r\n    >\r\n      <div class=\"container-logo px-4 py-4\">\r\n        <router-link\r\n          class=\"text-decoration-none\"\r\n          to=\"/\"\r\n        >\r\n          <h1\r\n            class=\"text-white\"\r\n          >\r\n            <strong>Dask</strong>Finances\r\n          </h1>\r\n        </router-link>\r\n      </div>\r\n      <div class=\"container-perfil w-100 py-3 ps-4 pe-2 d-flex align-center\">\r\n        <v-avatar\r\n          color=\"#25272c\"\r\n          size=\"x-large\"\r\n        >\r\n          <img class=\"w-100\" :src=\"imgAvatar\" alt=\"Logo\">\r\n        </v-avatar>\r\n        <span class=\"text-white font-weight-bold ms-4\">{{ nome }}</span>\r\n      </div>\r\n      <v-list>\r\n        <v-list-item>\r\n          <router-link class=\"text-decoration-none\" to=\"/painel\">\r\n          <div class=\"btn-dashboard w-100 py-3 ps-6 pe-2 d-flex align-center\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:svgjs=\"http://svgjs.com/svgjs\" width=\"512\" height=\"512\" x=\"0\" y=\"0\" viewBox=\"0 0 64 64\" style=\"enable-background:new 0 0 512 512\" xml:space=\"preserve\" class=\"\"><g><path d=\"M58.474 28.965 34.521 6.37a3.68 3.68 0 0 0-5.048 0L5.535 28.96a4.851 4.851 0 0 0 3.325 8.387h1.812v15.253a6.041 6.041 0 0 0 6.034 6.034h7.469a3.682 3.682 0 0 0 3.678-3.678v-9.849a1.035 1.035 0 0 1 1.034-1.034h6.232a1.035 1.035 0 0 1 1.033 1.034v9.849a3.682 3.682 0 0 0 3.679 3.678h7.457A6.04 6.04 0 0 0 53.32 52.6V37.348h1.823a4.853 4.853 0 0 0 3.33-8.383zm-7.653 3.383a2.5 2.5 0 0 0-2.5 2.5v17.753a1.035 1.035 0 0 1-1.033 1.034h-6.136v-8.527a6.04 6.04 0 0 0-6.033-6.034h-6.232a6.041 6.041 0 0 0-6.034 6.034v8.527h-6.147a1.035 1.035 0 0 1-1.034-1.034V34.848a2.5 2.5 0 0 0-2.5-2.5h-3.94l22.765-21.487 22.777 21.487z\" data-original=\"#000000\" class=\"\"></path></g></svg>\r\n            <span class=\"ms-3 text-white\">Painel</span>\r\n          </div>\r\n        </router-link>\r\n        </v-list-item>\r\n        <v-list-item>\r\n          <router-link class=\"text-decoration-none\" to=\"/transacoes\">\r\n            <div class=\"btn-dashboard w-100 py-3 ps-6 pe-2 d-flex align-center\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:svgjs=\"http://svgjs.com/svgjs\" width=\"512\" height=\"512\" x=\"0\" y=\"0\" viewBox=\"0 0 32 32\" style=\"enable-background:new 0 0 512 512\" xml:space=\"preserve\" class=\"\"><g transform=\"matrix(0.7600000000000002,0,0,0.7600000000000002,3.8399999999999963,3.835062732696535)\"><path d=\"M22.72 27.537a2.01 2.01 0 0 1-.256-2.817L24.73 22H3c-1.097 0-2-.903-2-2s.903-2 2-2h26a2 2 0 0 1 1.536 3.28l-5 6a2.01 2.01 0 0 1-2.816.257zM29 14H3a2 2 0 0 1-1.536-3.28l5-6a2 2 0 1 1 3.072 2.56L7.271 10H29a2 2 0 0 1 0 4z\" data-original=\"#000000\" class=\"\"></path></g></svg>\r\n              <span class=\"ms-3 text-white\">Transações</span>\r\n            </div>\r\n          </router-link>\r\n        </v-list-item>\r\n        <v-list-item>\r\n          <router-link class=\"text-decoration-none\" to=\"/visao-geral\">\r\n            <div class=\"btn-dashboard w-100 py-3 ps-6 pe-2 d-flex align-center\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:svgjs=\"http://svgjs.com/svgjs\" width=\"512\" height=\"512\" x=\"0\" y=\"0\" viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512\" xml:space=\"preserve\" class=\"\"><g transform=\"matrix(0.8000000000000003,0,0,0.8000000000000003,51.19999694824219,51.20004882812498)\"><path d=\"M495.93 82.599H332.84c-8.87 0-16.07 7.19-16.07 16.07v32.46c0 8.87 7.2 16.07 16.07 16.07h68.89l-140.96 140.95-59.76-59.76c-12.62-12.61-33.07-12.61-45.69 0L4.71 379.019c-6.28 6.27-6.28 16.45 0 22.72l22.95 22.96c6.27 6.27 16.45 6.27 22.72 0l127.79-127.79 59.75 59.76c12.619 12.623 33.072 12.628 45.69 0l163.79-163.79v68.89c0 8.87 7.19 16.07 16.07 16.07h32.46c8.88 0 16.07-7.2 16.07-16.07v-163.1c0-8.88-7.19-16.07-16.07-16.07z\" data-original=\"#000000\" class=\"\"></path></g></svg>\r\n              <span class=\"ms-3 text-white\">Visão geral</span>\r\n            </div>\r\n          </router-link>\r\n        </v-list-item>\r\n        <div class=\"line\"></div>\r\n        <v-list-item>\r\n          <router-link class=\"text-decoration-none\" to=\"/perfil\">\r\n            <div class=\"btn-dashboard w-100 py-3 ps-6 pe-2 d-flex align-center\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:svgjs=\"http://svgjs.com/svgjs\" width=\"512\" height=\"512\" x=\"0\" y=\"0\" viewBox=\"0 0 32 32\" style=\"enable-background:new 0 0 512 512\" xml:space=\"preserve\" class=\"\"><g><path d=\"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2zM9 25.74a7 7 0 0 1 14 0 11.94 11.94 0 0 1-14 0zm15.8-1.61a9 9 0 0 0-17.6 0 12 12 0 1 1 17.6 0zM16 6a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3z\" data-name=\"Layer 38\" data-original=\"#000000\"></path></g></svg>\r\n              <span class=\"ms-3 text-white\">Perfil</span>\r\n            </div>\r\n          </router-link>\r\n        </v-list-item>\r\n        <v-list-item>\r\n          <div @click=\"logout\" class=\"btn-sair w-100 py-3 ps-6 pe-2 d-flex align-center\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:svgjs=\"http://svgjs.com/svgjs\" width=\"512\" height=\"512\" x=\"0\" y=\"0\" viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512\" xml:space=\"preserve\" class=\"\"><g><path d=\"m27.3 256 114.3-101.6v63.5h228.7v76.2H141.7v63.5zm457.4 203.2V52.8H179.8v127H256V129h152.4v254H256v-50.8h-76.2v127z\" data-original=\"#000000\" class=\"\"></path></g></svg>\r\n            <span class=\"ms-3 text-white\">Sair</span>\r\n          </div>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-navigation-drawer>\r\n    <v-app-bar\r\n      class=\"d-flex\"\r\n      color=\"#25272c\"\r\n    >\r\n      <v-app-bar-nav-icon\r\n        class=\"text-white\"\r\n        @click=\"isDrawer = !isDrawer\"\r\n      >\r\n      </v-app-bar-nav-icon>\r\n      <div class=\"w-100 d-flex justify-end me-5\">\r\n        <v-menu>\r\n          <template v-slot:activator=\"{ props }\">\r\n            <BadgeIcon\r\n              @readNotification=\"readNotification\"\r\n              :propsBadge=\"props\"\r\n            />\r\n          </template>\r\n          <NotificationBox>\r\n            <NewNotification\r\n              :notificationsList=\"notificationsList\"\r\n            />\r\n          </NotificationBox>\r\n        </v-menu>\r\n      </div>\r\n\r\n    </v-app-bar>\r\n    <v-main>\r\n      <router-view />\r\n    </v-main>\r\n    <ConfirmModal\r\n      @confirmButton=\"confirmButton\"\r\n      @cancelButton=\"cancelButton\"\r\n      :stateConfirmModal=\"stateConfirmModal\"\r\n    >\r\n    Tem certeza?\r\n  </ConfirmModal>\r\n  </v-app>\r\n</template>\r\n\r\n<script setup>\r\nimport store from '@/store'\r\nimport { ref } from 'vue'\r\nimport ConfirmModal from '@/components/Popups/PanelPopups/ConfirmModal.vue';\r\nimport NotificationBox from '@/components/Notifications/NotificationBox.vue';\r\nimport NewNotification from '@/components/Notifications/NewNotification.vue';\r\nimport BadgeIcon from '@/components/Notifications/BadgeIcon.vue';\r\nimport { db } from '@/firebase'\r\nimport { collection, onSnapshot} from \"firebase/firestore\";\r\nimport { onMounted } from 'vue';\r\n\r\nlet imgDask = require('../../assets/logo-daskfinances-semfundo.png')\r\n\r\nlet notificationsList = ref([])\r\n\r\nonMounted(async () => {\r\n  onSnapshot(collection(db, \"notifications\"), (snapshot) => {\r\n    let notifications = []\r\n    snapshot.forEach((notification) => {\r\n      if(store.state.token.id === notification.data().idUser) {\r\n        notifications.push({\r\n          id: notification.id,\r\n          icon: imgDask,\r\n          title: notification.data().title,\r\n          text: notification.data().text,\r\n          date: notification.data().date,\r\n          link: notification.data().link\r\n        })\r\n      }\r\n    })\r\n    notificationsList.value = notifications\r\n  });\r\n})\r\n\r\nconst readNotification = () => {\r\n  notificationsList.value.forEach(notification => {\r\n    const transactionDocRef = doc(db, 'notifications', notification.id);\r\n\r\n    updateDoc(transactionDocRef, {\r\n      unread\r\n    })\r\n  })\r\n}\r\n\r\nlet imgAvatar = require('@/assets/logo-daskfinances-semfundo.png')\r\nlet nome = ref(store.state.token.nome)\r\n\r\nconst logout = () => {\r\n  stateConfirmModal.value = true\r\n}\r\n\r\nlet isDrawer = ref(true)\r\n\r\n// sign out of account\r\n\r\nlet stateConfirmModal = ref(false)\r\n\r\nconst cancelButton = () => {\r\n  stateConfirmModal.value = false\r\n}\r\n\r\nconst confirmButton = () => {\r\n  location.href = '/'\r\n  store.commit('addToken', {})\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.container-logo {\r\n  h1 {font-size: 16px;font-weight: normal;}\r\n}\r\n\r\n.btn-dashboard:hover {\r\n  background-color: #32343b;\r\n  border-radius: 10px;\r\n\r\n  span {\r\n    transition: .3s;\r\n    color: rgb(0, 200, 255) !important;\r\n  }\r\n\r\n  svg {\r\n    transition: .3s;\r\n    fill: rgb(0, 179, 255) !important;\r\n  }\r\n}\r\n\r\n.btn-sair:hover {\r\n  background-color: #32343b;\r\n  border-radius: 10px;\r\n\r\n  span {\r\n    transition: .3s;\r\n    color: rgb(255, 0, 68) !important;\r\n  }\r\n\r\n  svg {\r\n    transition: .3s;\r\n    fill: rgb(255, 0, 68) !important;\r\n  }\r\n}\r\n\r\nsvg {\r\n  width: 25px;\r\n  height: 25px;\r\n  fill: white;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  transition: .3s;\r\n  &:hover {\r\n    fill: rgb(0, 179, 255);\r\n  }\r\n}\r\n  \r\n.line {\r\n  height: 1px;\r\n  width: 90%;\r\n  background-color: #555556;\r\n  margin: 6px auto;\r\n}\r\n</style>"],"mappings":";AA6GA,OAAOA,KAAK,MAAM,SAAS;AAC3B,SAASC,GAAG,QAAQ,KAAK;AACzB,OAAOC,YAAY,MAAM,kDAAkD;AAC3E,OAAOC,eAAe,MAAM,gDAAgD;AAC5E,OAAOC,eAAe,MAAM,gDAAgD;AAC5E,OAAOC,SAAS,MAAM,0CAA0C;AAChE,SAASC,EAAE,QAAQ,YAAY;AAC/B,SAASC,UAAU,EAAEC,UAAU,QAAO,oBAAoB;AAC1D,SAASC,SAAS,QAAQ,KAAK;;;;;;;IAE/B,IAAIC,OAAO,GAAGC,OAAO,CAAC,6CAA6C,CAAC;IAEpE,IAAIC,iBAAiB,GAAGX,GAAG,CAAC,EAAE,CAAC;IAE/BQ,SAAS,CAAC,YAAY;MACpBD,UAAU,CAACD,UAAU,CAACD,EAAE,EAAE,eAAe,CAAC,EAAGO,QAAQ,IAAK;QACxD,IAAIC,aAAa,GAAG,EAAE;QACtBD,QAAQ,CAACE,OAAO,CAAEC,YAAY,IAAK;UACjC,IAAGhB,KAAK,CAACiB,KAAK,CAACC,KAAK,CAACC,EAAE,KAAKH,YAAY,CAACI,IAAI,CAAC,CAAC,CAACC,MAAM,EAAE;YACtDP,aAAa,CAACQ,IAAI,CAAC;cACjBH,EAAE,EAAEH,YAAY,CAACG,EAAE;cACnBI,IAAI,EAAEb,OAAO;cACbc,KAAK,EAAER,YAAY,CAACI,IAAI,CAAC,CAAC,CAACI,KAAK;cAChCC,IAAI,EAAET,YAAY,CAACI,IAAI,CAAC,CAAC,CAACK,IAAI;cAC9BC,IAAI,EAAEV,YAAY,CAACI,IAAI,CAAC,CAAC,CAACM,IAAI;cAC9BC,IAAI,EAAEX,YAAY,CAACI,IAAI,CAAC,CAAC,CAACO;YAC5B,CAAC,CAAC;UACJ;QACF,CAAC,CAAC;QACFf,iBAAiB,CAACgB,KAAK,GAAGd,aAAa;MACzC,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAMe,gBAAgB,GAAGA,CAAA,KAAM;MAC7BjB,iBAAiB,CAACgB,KAAK,CAACb,OAAO,CAACC,YAAY,IAAI;QAC9C,MAAMc,iBAAiB,GAAGC,GAAG,CAACzB,EAAE,EAAE,eAAe,EAAEU,YAAY,CAACG,EAAE,CAAC;QAEnEa,SAAS,CAACF,iBAAiB,EAAE;UAC3BG;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC;IAED,IAAIC,SAAS,GAAGvB,OAAO,CAAC,yCAAyC,CAAC;IAClE,IAAIwB,IAAI,GAAGlC,GAAG,CAACD,KAAK,CAACiB,KAAK,CAACC,KAAK,CAACiB,IAAI,CAAC;IAEtC,MAAMC,MAAM,GAAGA,CAAA,KAAM;MACnBC,iBAAiB,CAACT,KAAK,GAAG,IAAI;IAChC,CAAC;IAED,IAAIU,QAAQ,GAAGrC,GAAG,CAAC,IAAI,CAAC;;IAExB;;IAEA,IAAIoC,iBAAiB,GAAGpC,GAAG,CAAC,KAAK,CAAC;IAElC,MAAMsC,YAAY,GAAGA,CAAA,KAAM;MACzBF,iBAAiB,CAACT,KAAK,GAAG,KAAK;IACjC,CAAC;IAED,MAAMY,aAAa,GAAGA,CAAA,KAAM;MAC1BC,QAAQ,CAACC,IAAI,GAAG,GAAG;MACnB1C,KAAK,CAAC2C,MAAM,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;IAC9B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}