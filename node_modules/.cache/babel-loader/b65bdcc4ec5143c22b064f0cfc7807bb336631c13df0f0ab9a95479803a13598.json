{"ast":null,"code":"import { db } from '@/firebase';\nimport { collection, onSnapshot } from \"firebase/firestore\";\nimport { onMounted } from 'vue';\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  __name: 'BalancePanel',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    let saldoUser = ref(0);\n    let receitaUser = ref(0);\n    let gastoUser = ref(0);\n    let idSaldoCollection = ref();\n    onMounted(async () => {\n      onSnapshot(collection(db, \"saldo\"), snapshot => {\n        snapshot.forEach(docUser => {\n          if (store.state.token.id === docUser.data().idUser) {\n            saldoUser.value = docUser.data().saldo;\n            receitaUser.value = docUser.data().receita;\n            gastoUser.value = docUser.data().gasto;\n            idSaldoCollection.value = docUser.id;\n          }\n        });\n      });\n    });\n    const formatNumber = num => {\n      return `R$ ${parseFloat(num).toFixed(2).replace('.', ',')}`;\n    };\n    const __returned__ = {\n      get saldoUser() {\n        return saldoUser;\n      },\n      set saldoUser(v) {\n        saldoUser = v;\n      },\n      get receitaUser() {\n        return receitaUser;\n      },\n      set receitaUser(v) {\n        receitaUser = v;\n      },\n      get gastoUser() {\n        return gastoUser;\n      },\n      set gastoUser(v) {\n        gastoUser = v;\n      },\n      get idSaldoCollection() {\n        return idSaldoCollection;\n      },\n      set idSaldoCollection(v) {\n        idSaldoCollection = v;\n      },\n      formatNumber,\n      get db() {\n        return db;\n      },\n      get collection() {\n        return collection;\n      },\n      get onSnapshot() {\n        return onSnapshot;\n      },\n      onMounted,\n      ref,\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["db","collection","onSnapshot","onMounted","ref","useStore","saldoUser","receitaUser","gastoUser","idSaldoCollection","snapshot","forEach","docUser","store","state","token","id","data","idUser","value","saldo","receita","gasto","formatNumber","num","parseFloat","toFixed","replace"],"sources":["C:/Users/PC/Documents/GitHub/daskfinances/src/components/BalanceContainer/BalancePanel.vue"],"sourcesContent":["<template>\r\n  <v-row class=\"container-saldo-conta w-100\">\r\n    <v-col cols=\"12\" sm=\"4\">\r\n      <div class=\"saldo elevation-6 rounded-lg pa-2 d-flex ma-3\">\r\n        <span class=\"text-white font-weight-bold\">Saldo</span>\r\n        <div class=\"font-weight-regular text-green-accent-3 text-h6 w-100 align-self-end text-right\">\r\n          {{ formatNumber(saldoUser) }}\r\n        </div>\r\n      </div>\r\n    </v-col>\r\n    <v-col cols=\"12\" sm=\"4\">\r\n      <div class=\"receitas elevation-6 rounded-lg pa-2 d-flex ma-3\">\r\n        <span class=\"text-white font-weight-bold\">Receitas</span>\r\n        <div class=\"font-weight-regular text-blue text-h6 w-100 align-self-end text-right\">\r\n          {{ formatNumber(receitaUser) }}\r\n        </div>\r\n      </div>\r\n    </v-col>\r\n    <v-col cols=\"12\" sm=\"4\">\r\n      <div class=\"gastos elevation-6 rounded-lg pa-2 d-flex ma-3\">\r\n        <span class=\"text-white font-weight-bold\">Gastos</span>\r\n        <div class=\"font-weight-regular text-red-accent-3 text-h6 w-100 align-self-end text-right\">\r\n          {{ formatNumber(gastoUser) }}\r\n        </div>\r\n      </div>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script setup>\r\nimport { db } from '@/firebase'\r\nimport { collection, onSnapshot} from \"firebase/firestore\";\r\nimport { onMounted } from 'vue';\r\nimport { ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nlet saldoUser = ref(0)\r\nlet receitaUser = ref(0)\r\nlet gastoUser = ref(0)\r\nlet idSaldoCollection = ref()\r\n\r\nonMounted(async () => {\r\n  onSnapshot(collection(db, \"saldo\"), (snapshot) => {\r\n    snapshot.forEach((docUser) => {\r\n      if(store.state.token.id === docUser.data().idUser) {\r\n        saldoUser.value = docUser.data().saldo\r\n        receitaUser.value = docUser.data().receita\r\n        gastoUser.value = docUser.data().gasto\r\n\r\n        idSaldoCollection.value = docUser.id\r\n      }\r\n    })\r\n  });\r\n})\r\n\r\nconst formatNumber = (num) => {\r\n  return `R$ ${parseFloat(num).toFixed(2).replace('.',',')}`\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .saldo,.receitas,.gastos {\r\n    width: 100%;\r\n    height: 100px;\r\n    background-color: #25272c;\r\n  }\r\n</style>"],"mappings":"AA8BA,SAASA,EAAE,QAAQ,YAAY;AAC/B,SAASC,UAAU,EAAEC,UAAU,QAAO,oBAAoB;AAC1D,SAASC,SAAS,QAAQ,KAAK;AAC/B,SAASC,GAAG,QAAQ,KAAK;AACzB,SAASC,QAAQ,QAAQ,MAAM;;;;;;;IAE/B,IAAIC,SAAS,GAAGF,GAAG,CAAC,CAAC,CAAC;IACtB,IAAIG,WAAW,GAAGH,GAAG,CAAC,CAAC,CAAC;IACxB,IAAII,SAAS,GAAGJ,GAAG,CAAC,CAAC,CAAC;IACtB,IAAIK,iBAAiB,GAAGL,GAAG,CAAC,CAAC;IAE7BD,SAAS,CAAC,YAAY;MACpBD,UAAU,CAACD,UAAU,CAACD,EAAE,EAAE,OAAO,CAAC,EAAGU,QAAQ,IAAK;QAChDA,QAAQ,CAACC,OAAO,CAAEC,OAAO,IAAK;UAC5B,IAAGC,KAAK,CAACC,KAAK,CAACC,KAAK,CAACC,EAAE,KAAKJ,OAAO,CAACK,IAAI,CAAC,CAAC,CAACC,MAAM,EAAE;YACjDZ,SAAS,CAACa,KAAK,GAAGP,OAAO,CAACK,IAAI,CAAC,CAAC,CAACG,KAAK;YACtCb,WAAW,CAACY,KAAK,GAAGP,OAAO,CAACK,IAAI,CAAC,CAAC,CAACI,OAAO;YAC1Cb,SAAS,CAACW,KAAK,GAAGP,OAAO,CAACK,IAAI,CAAC,CAAC,CAACK,KAAK;YAEtCb,iBAAiB,CAACU,KAAK,GAAGP,OAAO,CAACI,EAAE;UACtC;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAMO,YAAY,GAAIC,GAAG,IAAK;MAC5B,OAAQ,MAAKC,UAAU,CAACD,GAAG,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,EAAC,GAAG,CAAE,EAAC;IAC5D,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}