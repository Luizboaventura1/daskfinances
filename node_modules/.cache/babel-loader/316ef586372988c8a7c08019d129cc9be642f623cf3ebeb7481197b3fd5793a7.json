{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, mergeProps as _mergeProps, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../../assets/img-notification.svg';\nconst _withScopeId = n => (_pushScopeId(\"data-v-59a50c96\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"circle rounded-circle\"\n};\nexport function render(_ctx, _cache) {\n  const _component_v_img = _resolveComponent(\"v-img\");\n  return _openBlock(), _createElementBlock(\"div\", _mergeProps({\n    class: \"badge\"\n  }, _ctx.propsBadge), [_ctx.unread ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1)) : _createCommentVNode(\"v-if\", true), _createVNode(_component_v_img, {\n    width: \"20\",\n    src: _imports_0\n  })], 16 /* FULL_PROPS */);\n}","map":{"version":3,"names":["_imports_0","class","_createElementBlock","_mergeProps","_ctx","propsBadge","unread","_hoisted_1","_createVNode","_component_v_img","width","src"],"sources":["C:\\Users\\PC\\Documents\\GitHub\\daskfinances\\src\\components\\Notifications\\BadgeIcon.vue"],"sourcesContent":["<template>\r\n  <div class=\"badge\" v-bind=\"propsBadge\">\r\n    <div\r\n      v-if=\"unread\"\r\n      class=\"circle rounded-circle\"\r\n    ></div>\r\n    <v-img width=\"20\" src=\"../../assets/img-notification.svg\"></v-img>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { db } from '@/firebase'\r\nimport { collection, , onSnapshot,,doc} from \"firebase/firestore\";\r\nimport { onMounted } from 'vue';\r\nimport { useStore } from 'vuex'\r\nimport { defineProps } from 'vue'\r\nlet store = useStore()\r\nlet unread = ref(false)\r\n\r\nonMounted(async () => {\r\n  onSnapshot(collection(db, \"notifications\"), (snapshot) => {\r\n    let notifications = []\r\n    snapshot.forEach((notification) => {\r\n      if(store.state.token.id === notification.data().idUser) {\r\n        notifications.push(notification)\r\n      }\r\n    })\r\n\r\n    unread.value = notifications.some(noti => noti.unread != true)\r\n\r\n  });\r\n})\r\n\r\ndefineProps({\r\n  propsBadge: String\r\n})\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .badge {\r\n    width: 20px;\r\n    height: 20px;\r\n    position: relative;\r\n    cursor: pointer;\r\n    .circle {\r\n      position: absolute;\r\n      width: 12px;\r\n      height: 12px;\r\n      z-index: 10;\r\n      right: -6px;\r\n      top: -6px;\r\n      background-color: rgb(199, 25, 25);\r\n    }\r\n  }\r\n</style>"],"mappings":";OAMsBA,UAAuC;;;;EAFvDC,KAAK,EAAC;;;;uBAHVC,mBAAA,CAMM,OANNC,WAAA,CAMM;IANDF,KAAK,EAAC;EAAO,GAASG,IAAA,CAAAC,UAAU,IAE3BD,IAAA,CAAAE,MAAM,I,cADdJ,mBAAA,CAGO,OAHPK,UAGO,K,mCACPC,YAAA,CAAkEC,gBAAA;IAA3DC,KAAK,EAAC,IAAI;IAACC,GAAuC,EAAvCX"},"metadata":{},"sourceType":"module","externalDependencies":[]}