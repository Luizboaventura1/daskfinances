{"version":3,"file":"date.mjs","names":["useLocale","inject","watch","propsFactory","VuetifyDateAdapter","DateAdapterSymbol","Symbol","for","createDate","options","adapter","makeDateProps","displayDate","type","Object","default","Date","hideAdjacentMonths","Boolean","modelValue","useDate","props","date","locale","Error","instance","current","value","val","immediate"],"sources":["../../../src/labs/date/date.ts"],"sourcesContent":["// Composables\nimport { useLocale } from '@/composables/locale'\n\n// Utilities\nimport { inject, watch } from 'vue'\nimport { propsFactory } from '@/util'\n\n// Adapters\nimport { VuetifyDateAdapter } from './adapters/vuetify'\n\n// Types\nimport type { DateAdapter } from './DateAdapter'\nimport type { InjectionKey, PropType } from 'vue'\n\nexport interface DateInstance extends DateAdapter<Date> {\n  locale: string\n}\n\nexport type DateOptions = {\n  adapter: { new(locale: string): DateInstance }\n}\n\nexport const DateAdapterSymbol: InjectionKey<DateOptions> = Symbol.for('vuetify:date-adapter')\n\nexport interface DateProps {\n  displayDate: Date\n  hideAdjacentMonths: boolean\n  modelValue: any[]\n}\n\nexport function createDate (options?: DateOptions) {\n  return options ?? { adapter: VuetifyDateAdapter }\n}\n\n// TODO: revisit this after it starts being implemented\nexport const makeDateProps = propsFactory({\n  displayDate: {\n    type: Object as PropType<Date>,\n    default: new Date(),\n  },\n  hideAdjacentMonths: Boolean,\n  modelValue: {\n    type: null as unknown as PropType<any[]>,\n    default: () => [],\n  },\n}, 'date')\n\nexport function useDate (props: DateProps) {\n  const date = inject(DateAdapterSymbol)\n  const locale = useLocale()\n\n  if (!date) throw new Error('[Vuetify] Could not find injected date')\n\n  // eslint-disable-next-line new-cap\n  const instance = new date.adapter(locale.current.value)\n\n  watch(locale.current, val => {\n    instance.locale = val\n  }, { immediate: true })\n\n  return instance\n}\n"],"mappings":"AAAA;AAAA,SACSA,SAAS,wCAElB;AACA,SAASC,MAAM,EAAEC,KAAK,QAAQ,KAAK;AAAA,SAC1BC,YAAY,gCAErB;AAAA,SACSC,kBAAkB,kCAE3B;AAYA,OAAO,MAAMC,iBAA4C,GAAGC,MAAM,CAACC,GAAG,CAAC,sBAAsB,CAAC;AAQ9F,OAAO,SAASC,UAAUA,CAAEC,OAAqB,EAAE;EACjD,OAAOA,OAAO,IAAI;IAAEC,OAAO,EAAEN;EAAmB,CAAC;AACnD;;AAEA;AACA,OAAO,MAAMO,aAAa,GAAGR,YAAY,CAAC;EACxCS,WAAW,EAAE;IACXC,IAAI,EAAEC,MAAwB;IAC9BC,OAAO,EAAE,IAAIC,IAAI;EACnB,CAAC;EACDC,kBAAkB,EAAEC,OAAO;EAC3BC,UAAU,EAAE;IACVN,IAAI,EAAE,IAAkC;IACxCE,OAAO,EAAEA,CAAA,KAAM;EACjB;AACF,CAAC,EAAE,MAAM,CAAC;AAEV,OAAO,SAASK,OAAOA,CAAEC,KAAgB,EAAE;EACzC,MAAMC,IAAI,GAAGrB,MAAM,CAACI,iBAAiB,CAAC;EACtC,MAAMkB,MAAM,GAAGvB,SAAS,EAAE;EAE1B,IAAI,CAACsB,IAAI,EAAE,MAAM,IAAIE,KAAK,CAAC,wCAAwC,CAAC;;EAEpE;EACA,MAAMC,QAAQ,GAAG,IAAIH,IAAI,CAACZ,OAAO,CAACa,MAAM,CAACG,OAAO,CAACC,KAAK,CAAC;EAEvDzB,KAAK,CAACqB,MAAM,CAACG,OAAO,EAAEE,GAAG,IAAI;IAC3BH,QAAQ,CAACF,MAAM,GAAGK,GAAG;EACvB,CAAC,EAAE;IAAEC,SAAS,EAAE;EAAK,CAAC,CAAC;EAEvB,OAAOJ,QAAQ;AACjB"}