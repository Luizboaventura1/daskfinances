"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[55],{3055:function(e,a,l){l.r(a),l.d(a,{default:function(){return H}});l(7658);var t=l(3396),n=l(4870),i=l(2268),u=l(6056),o=l(4287),r=l(2483),d=l(7139),s=l(4895),m=l(870),c=l(3324),v=l(1888),p=l(3601),h=l(3369),g=l(7325),f=l(5848);const w=e=>((0,t.dD)("data-v-b6f5d7c2"),e=e(),(0,t.Cn)(),e),b={class:"d-flex justify-center align-center"},U={class:"elevation-10 rounded-lg py-3 px-4"},_=w((()=>(0,t._)("h1",{class:"text-white text-center mb-5"},"Registrar",-1))),S={class:"w-100 text-center"};var k={__name:"RegistrarView",setup(e){const a=(0,d.oR)();let l=(0,n.iH)([]);(0,t.bv)((async()=>{(0,o.cf)((0,o.hJ)(u.db,"usuarios"),(e=>{e.forEach((e=>{const a={id:e.id,nome:e.data().nome,gmail:e.data().gmail,senha:e.data().senha};l.value.push(a)}))}))}));let w=(0,n.iH)(""),k=(0,n.iH)(""),x=(0,n.iH)(""),V=(0,r.tv)();const H=()=>{let e=w.value.trim(),t=k.value.trim(),n=x.value.trim();if(Z()){let i=l.value.some((e=>e.gmail.startsWith(t)));i?C("Essa conta já existe!"):(W.value=!0,setTimeout((()=>{W.value=!1,V.push("/painel")}),900),(0,o.ET)((0,o.hJ)(u.db,"usuarios"),{nome:e,gmail:t,senha:n}),a.commit("addToken",{id:"",nome:e,gmail:t,senha:n,tokenOn:!0}))}};let W=(0,n.iH)(!1),y=(0,n.iH)(!1),q=(0,n.iH)("");const C=e=>{y.value=!0,q.value=e,setTimeout((()=>{y.value=!1}),2e3)};let E=(0,n.iH)(!1),T=(0,n.iH)(!1),M=(0,n.iH)(!1);const P=[e=>e?E.value=!0:(E.value=!1,"Senha obrigatória!"),e=>e.length>=3?E.value=!0:(E.value=!1,"Mínimo 3 letras"),e=>e.length<=50?E.value=!0:(E.value=!1,"Máximo 50 caracteres!")],R=[e=>e?T.value=!0:(T.value=!1,"Email obrigatório!"),e=>e.includes("@")&&!e.includes(" ")&&2==e.split("@").length&&""!=e.split("@")[1].trim()?T.value=!0:(T.value=!1,console.log(e.split("@").length),"Email inválido!"),e=>e.length<=50?T.value=!0:(T.value=!1,"Máximo 50 caracteres!")],j=[e=>e?M.value=!0:(M.value=!1,"Senha obrigatória!"),e=>e.length>=8?M.value=!0:(M.value=!1,"Minimo 8 caracteres"),e=>e.length<=50?M.value=!0:(M.value=!1,"Máximo 50 caracteres")],Z=()=>!!(E.value&&T.value&&M.value);let D=(0,n.iH)();return(e,a)=>{const l=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("header",b,[(0,t.Wm)(h.K,{class:"d-flex justify-center align-center"},{default:(0,t.w5)((()=>[(0,t._)("form",U,[_,(0,t._)("div",null,[(0,t.Wm)(f.h,{required:"",label:"Nome",modelValue:(0,n.SU)(w),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.dq)(w)?w.value=e:w=e),class:"text-white w-100 border-0 pa-2 rounded",type:"email",placeholder:"Primeiro nome",rules:P,"prepend-inner-icon":"mdi-account-outline",variant:"outlined"},null,8,["modelValue"])]),(0,t._)("div",null,[(0,t.Wm)(f.h,{label:"Email",required:"",modelValue:(0,n.SU)(k),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,n.dq)(k)?k.value=e:k=e),class:"text-white w-100 border-0 pa-2 rounded",type:"email",placeholder:"Seu email",rules:R,"prepend-inner-icon":"mdi-email-outline",variant:"outlined"},null,8,["modelValue"])]),(0,t._)("div",null,[(0,t.Wm)(f.h,{label:"Senha",required:"",modelValue:(0,n.SU)(x),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,n.dq)(x)?x.value=e:x=e),class:"text-white w-100 border-0 pa-2 rounded",placeholder:"Sua senha",rules:j,"prepend-inner-icon":"mdi-lock-outline","onClick:appendInner":a[3]||(a[3]=e=>(0,n.dq)(D)?D.value=!(0,n.SU)(D):D=!(0,n.SU)(D)),"append-inner-icon":(0,n.SU)(D)?"mdi-eye-off":"mdi-eye",type:(0,n.SU)(D)?"text":"password",variant:"outlined"},null,8,["modelValue","append-inner-icon","type"])]),(0,t.Wm)(m.T,{disabled:(0,n.SU)(W),loading:(0,n.SU)(W),onClick:a[4]||(a[4]=e=>H()),class:"w-100 my-3 button-registrar"},{default:(0,t.w5)((()=>[(0,t.Uk)("Criar conta")])),_:1},8,["disabled","loading"]),(0,t._)("div",S,[(0,t.Wm)(l,{class:"link-registrar text-decoration-none font-weight-light",to:"/auth/login"},{default:(0,t.w5)((()=>[(0,t.Uk)("Tem uma conta?")])),_:1})])])])),_:1})]),(0,t.Wm)(p.B,{modelValue:(0,n.SU)(W),"onUpdate:modelValue":a[5]||(a[5]=e=>(0,n.dq)(W)?W.value=e:W=e),scrim:!1,persistent:"",width:"auto"},{default:(0,t.w5)((()=>[(0,t.Wm)(c._,{color:"blue-darken-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(v.Z,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Registrando "),(0,t.Wm)(g.K,{indeterminate:"",color:"white",class:"mb-0"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(s.Z,{statePopupPanel:(0,n.SU)(y)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)((0,n.SU)(q)),1)])),_:1},8,["statePopupPanel"])],64)}}},x=l(89);const V=(0,x.Z)(k,[["__scopeId","data-v-b6f5d7c2"]]);var H=V}}]);
//# sourceMappingURL=55.32461443.js.map