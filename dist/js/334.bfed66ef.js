"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[334],{3334:function(e,a,l){l.r(a),l.d(a,{default:function(){return H}});l(7658);var t=l(3396),n=l(4870),i=l(2268),d=l(7139),o=l(2483),u=l(6056),s=l(4287),r=l(4895),m=l(7718),c=l(870),h=l(3324),p=l(1888),v=l(3601),f=l(3369),w=l(7325),g=l(5848);const _=e=>((0,t.dD)("data-v-5711533e"),e=e(),(0,t.Cn)(),e),b={class:"d-flex justify-center align-center"},k={class:"elevation-10 rounded-lg py-3 px-4"},U=_((()=>(0,t._)("h1",{class:"text-white text-center mb-5"},"Login",-1))),S={class:"mb-2"},V={class:"mb-2"},W={class:"w-100 text-center"};var x={__name:"LoginView",setup(e){let a=(0,n.iH)([]);(0,t.bv)((async()=>{(0,s.cf)((0,s.hJ)(u.db,"usuarios"),(e=>{e.forEach((e=>{const l={id:e.id,nome:e.data().nome,gmail:e.data().gmail,senha:e.data().senha};a.value.push(l)}))}))}));let l=(0,n.iH)(""),_=(0,n.iH)(""),x=(0,d.oR)(),y=(0,o.tv)();const E=()=>{let e=l.value.trim(),t=_.value.trim();if(Z){let l=a.value.find((a=>a.gmail===e&&a.senha===t)),n=a.value.find((a=>a.gmail==e)),i=a.value.find((e=>e.senha==t)),d=a.value.find((a=>{if(a.gmail==e)return a.nome}));if(l){H.value=!0,setTimeout((()=>{H.value=!1,y.push("/painel")}),900);const e={id:n.id,nome:d.nome,gmail:n.gmail,senha:i.senha,tokenOn:!0};x.commit("addToken",e)}else P("Conta não encontrada!")}};let H=(0,n.iH)(!1),C=(0,n.iH)(!1),q=(0,n.iH)("");const P=e=>{C.value=!0,q.value=e,setTimeout((()=>{C.value=!1}),2e3)},T=[e=>!!e||"Email obrigatório!",e=>!!e.includes("@")||"Email inválido!"],j=[e=>!!e||"Senha obrigatória!"],Z=()=>!!(T[0]&&T[1]&&j[0]);return(e,a)=>{const d=(0,t.up)("router-link");return(0,t.wg)(),(0,t.j4)(m.q,{theem:"dark"},{default:(0,t.w5)((()=>[(0,t._)("header",b,[(0,t.Wm)(f.K,{class:"d-flex justify-center align-center"},{default:(0,t.w5)((()=>[(0,t._)("form",k,[U,(0,t._)("div",S,[(0,t.Wm)(g.h,{label:"Email",modelValue:(0,n.SU)(l),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.dq)(l)?l.value=e:l=e),class:"text-white w-100 border-0 pa-2 rounded",type:"email",placeholder:"Seu email",rules:T,variant:"outlined"},null,8,["modelValue"])]),(0,t._)("div",V,[(0,t.Wm)(g.h,{label:"Senha",modelValue:(0,n.SU)(_),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,n.dq)(_)?_.value=e:_=e),class:"text-white w-100 border-0 pa-2 rounded",type:"password",placeholder:"Sua senha",rules:j,variant:"outlined"},null,8,["modelValue"])]),(0,t.Wm)(c.T,{disabled:(0,n.SU)(H),loading:(0,n.SU)(H),onClick:a[2]||(a[2]=e=>E()),class:"w-100 my-3 button-entrar"},{default:(0,t.w5)((()=>[(0,t.Uk)("Entrar")])),_:1},8,["disabled","loading"]),(0,t._)("div",W,[(0,t.Wm)(d,{class:"link-registrar text-decoration-none font-weight-light",to:"/auth/registrar"},{default:(0,t.w5)((()=>[(0,t.Uk)("Não tem uma conta?")])),_:1})])])])),_:1})]),(0,t.Wm)(v.B,{modelValue:(0,n.SU)(H),"onUpdate:modelValue":a[3]||(a[3]=e=>(0,n.dq)(H)?H.value=e:H=e),scrim:!1,persistent:"",width:"auto"},{default:(0,t.w5)((()=>[(0,t.Wm)(h._,{color:"blue-darken-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(p.Z,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Entrando "),(0,t.Wm)(w.K,{indeterminate:"",color:"white",class:"mb-0"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(r.Z,{statePopupPanel:(0,n.SU)(C)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)((0,n.SU)(q)),1)])),_:1},8,["statePopupPanel"])])),_:1})}}},y=l(89);const E=(0,y.Z)(x,[["__scopeId","data-v-5711533e"]]);var H=E}}]);
//# sourceMappingURL=334.bfed66ef.js.map