"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[253],{4895:function(e,a,t){t.d(a,{Z:function(){return c}});var l=t(3396);const s=e=>((0,l.dD)("data-v-28bf1660"),e=e(),(0,l.Cn)(),e),n={key:0,class:"popup elevation-6 rounded-lg text-white overflow-hidden pa-2 d-flex justify-center align-center"},o=s((()=>(0,l._)("div",{class:"container-bar"},[(0,l._)("div",{class:"bar"})],-1)));var d={__name:"AlertPopupPanel",props:{statePopupPanel:Boolean},setup(e){return(a,t)=>e.statePopupPanel?((0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("span",null,[(0,l.WI)(a.$slots,"default")]),o])):(0,l.kq)("",!0)}},i=t(89);const u=(0,i.Z)(d,[["__scopeId","data-v-28bf1660"]]);var c=u},2446:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});var l=t(3396),s=t(2268),n=t(4870),o=t(9242),d=t(9673),i=t(7139),u=t(6056),c=t(4287),r=t(4895),p=t(5961),v=t(870),w=t(6824),m=t(8521);const f=e=>((0,l.dD)("data-v-387a05dc"),e=e(),(0,l.Cn)(),e),_={class:"saldo elevation-6 rounded-lg pa-2 d-flex ma-3"},h=f((()=>(0,l._)("span",{class:"text-white font-weight-bold"},"Saldo",-1))),g={class:"font-weight-regular text-green-accent-3 text-h6 w-100 align-self-end text-right"},x={class:"receitas elevation-6 rounded-lg pa-2 d-flex ma-3"},U=f((()=>(0,l._)("span",{class:"text-white font-weight-bold"},"Receitas",-1))),b={class:"font-weight-regular text-blue text-h6 w-100 align-self-end text-right"},y={class:"gastos elevation-6 rounded-lg pa-2 d-flex ma-3"},P=f((()=>(0,l._)("span",{class:"text-white font-weight-bold"},"Gastos",-1))),k={class:"font-weight-regular text-red-accent-3 text-h6 w-100 align-self-end text-right"},S={class:"container-add-finance pa-3 rounded ma-3 elevation-6"},W=f((()=>(0,l._)("div",{class:"w-100"},[(0,l._)("h1",{class:"text-white text-h6 font-weight-bold"},"Nova transação")],-1))),D=f((()=>(0,l._)("option",{value:""},"Selecione",-1))),H=f((()=>(0,l._)("option",{value:"receita"},"Receita",-1))),I=f((()=>(0,l._)("option",{value:"gasto"},"Gasto",-1))),T=[D,H,I],V={class:"w-100 d-flex justify-end"};var Z={__name:"PainelView",setup(e){let a=(0,n.iH)(""),t=(0,n.iH)(""),f=(0,n.iH)(""),D=(0,n.iH)("");const H=(0,i.oR)(),I=()=>{t.value=t.value.replace(/[^0-9.]/g,"")},Z=()=>{if(""!=a.value.trim()&&""!=t.value.trim()&&""!=f.value.trim()&&""!=D.value.trim()){(0,c.ET)((0,c.hJ)(u.db,"transacoes"),{idUser:H.state.token.id,nome:a.value,valor:t.value,data:f.value.replace(/-/g,"/"),tipo:D.value}),(0,c.ET)((0,c.hJ)(u.db,"notifications"),{idUser:H.state.token.id,title:"Nova transação",text:`Transação R$ ${$(t.value)}`,date:String(new Date),link:"/",unread:!0});const e=(0,c.JU)(u.db,"saldo",R.value);"receita"===D.value?(0,c.r7)(e,{saldo:q.value+=parseInt(t.value),receita:z.value+=parseInt(t.value)}):(0,c.r7)(e,{saldo:q.value-=parseInt(t.value),gasto:C.value+=parseInt(t.value)}),G("Transação conluída!")}else j("Preencha os campos!")};let q=(0,n.iH)(0),z=(0,n.iH)(0),C=(0,n.iH)(0),R=(0,n.iH)();(0,l.bv)((async()=>{(0,c.cf)((0,c.hJ)(u.db,"saldo"),(e=>{e.forEach((e=>{H.state.token.id===e.data().idUser&&(q.value=e.data().saldo,z.value=e.data().receita,C.value=e.data().gasto,R.value=e.id)}))}))}));const $=e=>`R$ ${parseFloat(e).toFixed(2).replace(".",",")}`;let J=(0,n.iH)(!1),E=(0,n.iH)("");const j=e=>{J.value=!0,E.value=e,setTimeout((()=>{J.value=!1}),2e3)};let A=(0,n.iH)(!1),F=(0,n.iH)("");const G=e=>{A.value=!0,F.value=e,setTimeout((()=>{A.value=!1}),2e3)};return(e,i)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(w.o,{class:"container-saldo-conta w-100"},{default:(0,l.w5)((()=>[(0,l.Wm)(m.D,{cols:"12",sm:"4"},{default:(0,l.w5)((()=>[(0,l._)("div",_,[h,(0,l._)("div",g,(0,s.zw)($((0,n.SU)(q))),1)])])),_:1}),(0,l.Wm)(m.D,{cols:"12",sm:"4"},{default:(0,l.w5)((()=>[(0,l._)("div",x,[U,(0,l._)("div",b,(0,s.zw)($((0,n.SU)(z))),1)])])),_:1}),(0,l.Wm)(m.D,{cols:"12",sm:"4"},{default:(0,l.w5)((()=>[(0,l._)("div",y,[P,(0,l._)("div",k,(0,s.zw)($((0,n.SU)(C))),1)])])),_:1})])),_:1}),(0,l._)("div",S,[W,(0,l.Wm)(w.o,{class:"py-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(m.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>(0,n.dq)(a)?a.value=e:a=e),placeholder:"Transação",type:"text",class:"rounded-md text-white px-3 py-2 w-100"},null,512),[[o.nr,(0,n.SU)(a)]])])),_:1}),(0,l.Wm)(m.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":i[1]||(i[1]=e=>(0,n.dq)(t)?t.value=e:t=e),placeholder:"Valor",type:"text",class:"rounded-md text-white px-3 py-2 w-100",onInput:I},null,544),[[o.nr,(0,n.SU)(t)]])])),_:1}),(0,l.Wm)(m.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":i[2]||(i[2]=e=>(0,n.dq)(f)?f.value=e:f=e),placeholder:"Data",type:"date",class:"rounded-md text-white px-3 py-2 w-100"},null,512),[[o.nr,(0,n.SU)(f)]])])),_:1}),(0,l.Wm)(m.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":i[3]||(i[3]=e=>(0,n.dq)(D)?D.value=e:D=e),class:"rounded-md text-white px-3 py-2 w-100"},T,512),[[o.bM,(0,n.SU)(D)]])])),_:1})])),_:1}),(0,l._)("div",V,[(0,l.Wm)(v.T,{onClick:i[4]||(i[4]=e=>Z()),class:"elevation-0 px-8 bg-green-accent-3"},{default:(0,l.w5)((()=>[(0,l.Uk)("Adicionar")])),_:1})])]),(0,l.Wm)(d.Z),(0,l.Wm)(r.Z,{statePopupPanel:(0,n.SU)(J)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,n.SU)(E)),1)])),_:1},8,["statePopupPanel"]),(0,l.Wm)(p.Z,{statePopupPanel:(0,n.SU)(A)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,n.SU)(F)),1)])),_:1},8,["statePopupPanel"])],64))}},q=t(89);const z=(0,q.Z)(Z,[["__scopeId","data-v-387a05dc"]]);var C=z}}]);
//# sourceMappingURL=253.4687f1a9.js.map