"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[88],{9088:function(e,a,l){l.r(a),l.d(a,{default:function(){return C}});l(7658);var t=l(3396),n=l(4870),i=l(2268),u=l(7139),o=l(2483),d=l(6056),r=l(4287),s=l(4895),m=l(7718),c=l(870),p=l(3324),v=l(1888),h=l(3601),f=l(3369),g=l(7325),w=l(5848);const _=e=>((0,t.dD)("data-v-50c782aa"),e=e(),(0,t.Cn)(),e),b={class:"d-flex justify-center align-center"},U={class:"elevation-10 rounded-lg py-3 px-4"},k=_((()=>(0,t._)("h1",{class:"text-white text-center mb-5"},"Login",-1))),S={class:"mb-2"},x={class:"mb-2"},y={class:"w-100 text-center"};var V={__name:"LoginView",setup(e){let a=(0,n.iH)([]);(0,t.bv)((async()=>{(0,r.cf)((0,r.hJ)(d.db,"usuarios"),(e=>{e.forEach((e=>{const l={id:e.id,nome:e.data().nome,gmail:e.data().gmail,senha:e.data().senha};a.value.push(l)}))}))}));let l=(0,n.iH)(""),_=(0,n.iH)(""),V=(0,u.oR)(),W=(0,o.tv)();const H=()=>{let e=l.value.trim(),t=_.value.trim();if(I){let l=a.value.find((a=>a.gmail===e&&a.senha===t)),n=a.value.find((a=>a.gmail===e)),i=a.value.find((e=>e.senha===t)),u=a.value.find((a=>{if(a.gmail===e)return a.nome}));if(l){C.value=!0,setTimeout((()=>{C.value=!1,W.push("/painel")}),900);const e={id:n.id,nome:u.nome,gmail:n.gmail,senha:i.senha,tokenOn:!0};V.commit("addToken",e)}else P("Conta não encontrada!")}};let C=(0,n.iH)(!1),E=(0,n.iH)(!1),q=(0,n.iH)("");const P=e=>{E.value=!0,q.value=e,setTimeout((()=>{E.value=!1}),2e3)};let T=(0,n.iH)(!1),j=(0,n.iH)(!1);const M=[e=>e?T.value=!0:(T.value=!1,"Email obrigatório!"),e=>e.includes("@")&&!e.includes(" ")&&2==e.split("@").length&&""!=e.split("@").at(1).trim()&&""!=e.split("@").at(0).trim()?T.value=!0:(T.value=!1,"Email inválido!"),e=>e.length<=50?T.value=!0:(T.value=!1,"Máximo 50 caracteres!")],Z=[e=>e?j.value=!0:(j.value=!1,"Senha obrigatória!"),e=>e.length>=8?j.value=!0:(j.value=!1,"Minimo 8 caracteres"),e=>e.length<=50?j.value=!0:(j.value=!1,"Máximo 50 caracteres")],I=()=>!(!T.value||!j.value);let K=(0,n.iH)();return(e,a)=>{const u=(0,t.up)("router-link");return(0,t.wg)(),(0,t.j4)(m.q,{theem:"dark"},{default:(0,t.w5)((()=>[(0,t._)("header",b,[(0,t.Wm)(f.K,{class:"d-flex justify-center align-center"},{default:(0,t.w5)((()=>[(0,t._)("form",U,[k,(0,t._)("div",S,[(0,t.Wm)(w.h,{label:"Email",modelValue:(0,n.SU)(l),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.dq)(l)?l.value=e:l=e),class:"text-white w-100 border-0 pa-2 rounded",type:"email",placeholder:"Seu email","prepend-inner-icon":"mdi-email-outline",rules:M,variant:"outlined"},null,8,["modelValue"])]),(0,t._)("div",x,[(0,t.Wm)(w.h,{label:"Senha",modelValue:(0,n.SU)(_),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,n.dq)(_)?_.value=e:_=e),class:"text-white w-100 border-0 pa-2 rounded",placeholder:"Sua senha",rules:Z,"prepend-inner-icon":"mdi-lock-outline","onClick:appendInner":a[2]||(a[2]=e=>(0,n.dq)(K)?K.value=!(0,n.SU)(K):K=!(0,n.SU)(K)),"append-inner-icon":(0,n.SU)(K)?"mdi-eye-off":"mdi-eye",type:(0,n.SU)(K)?"text":"password",variant:"outlined"},null,8,["modelValue","append-inner-icon","type"])]),(0,t.Wm)(c.T,{disabled:(0,n.SU)(C),loading:(0,n.SU)(C),onClick:a[3]||(a[3]=e=>H()),class:"w-100 my-3 button-entrar"},{default:(0,t.w5)((()=>[(0,t.Uk)("Entrar")])),_:1},8,["disabled","loading"]),(0,t._)("div",y,[(0,t.Wm)(u,{class:"link-registrar text-decoration-none font-weight-light",to:"/auth/registrar"},{default:(0,t.w5)((()=>[(0,t.Uk)("Não tem uma conta?")])),_:1})])])])),_:1})]),(0,t.Wm)(h.B,{modelValue:(0,n.SU)(C),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,n.dq)(C)?C.value=e:C=e),scrim:!1,persistent:"",width:"auto"},{default:(0,t.w5)((()=>[(0,t.Wm)(p._,{color:"blue-darken-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(v.Z,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Entrando "),(0,t.Wm)(g.K,{indeterminate:"",color:"white",class:"mb-0"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(s.Z,{statePopupPanel:(0,n.SU)(E)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)((0,n.SU)(q)),1)])),_:1},8,["statePopupPanel"])])),_:1})}}},W=l(89);const H=(0,W.Z)(V,[["__scopeId","data-v-50c782aa"]]);var C=H}}]);
//# sourceMappingURL=88.b945dd7d.js.map