"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[208],{3208:function(e,a,l){l.r(a),l.d(a,{default:function(){return x}});l(7658);var t=l(3396),i=l(4870),u=l(2268),n=l(6056),o=l(4287),r=l(2483),d=l(7139),s=l(4895),m=l(870),c=l(3324),v=l(1888),h=l(3601),p=l(3369),w=l(7325),g=l(5848);const f=e=>((0,t.dD)("data-v-12583568"),e=e(),(0,t.Cn)(),e),b={class:"d-flex justify-center align-center"},_={class:"elevation-10 rounded-lg py-3 px-4"},U=f((()=>(0,t._)("h1",{class:"text-white text-center mb-5"},"Registrar",-1))),k={class:"w-100 text-center"};var S={__name:"RegistrarView",setup(e){const a=(0,d.oR)();let l=(0,i.iH)([]);(0,t.bv)((async()=>{(0,o.cf)((0,o.hJ)(n.db,"usuarios"),(e=>{e.forEach((e=>{const a={id:e.id,nome:e.data().nome,gmail:e.data().gmail,senha:e.data().senha};l.value.push(a)}))}))}));let f=(0,i.iH)(""),S=(0,i.iH)(""),V=(0,i.iH)(""),W=(0,r.tv)();const x=()=>{let e=f.value.trim(),t=S.value.trim(),i=V.value.trim();if(R){let u=l.value.some((e=>e.gmail.startsWith(t)));u?E("Essa conta já existe!"):(H.value=!0,setTimeout((()=>{H.value=!1,W.push("/painel")}),900),(0,o.ET)((0,o.hJ)(n.db,"usuarios"),{nome:e,gmail:t,senha:i}),a.commit("addToken",{id:"",nome:e,gmail:t,senha:i,tokenOn:!0}))}};let H=(0,i.iH)(!1),y=(0,i.iH)(!1),q=(0,i.iH)("");const E=e=>{y.value=!0,q.value=e,setTimeout((()=>{y.value=!1}),2e3)},T=(0,i.iH)([e=>!!e||"Senha obrigatória!",e=>e.length>=3||"Minimo 3 letras"]),C=(0,i.iH)([e=>!!e||"Email obrigatório!",e=>!!e.includes("@")||"Email inválido!"]),P=(0,i.iH)([e=>!!e||"Senha obrigatória!",e=>e.length>=8||"Minimo 8 caracteres"]),R=()=>!!(T.value[0]&&T.value[1]&&C.value[0]&&C.value[1]&&P.value[0]&&P.value[1]);return(e,a)=>{const l=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("header",b,[(0,t.Wm)(p.K,{class:"d-flex justify-center align-center"},{default:(0,t.w5)((()=>[(0,t._)("form",_,[U,(0,t._)("div",null,[(0,t.Wm)(g.h,{required:"",label:"Nome",modelValue:(0,i.SU)(f),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,i.dq)(f)?f.value=e:f=e),class:"text-white w-100 border-0 pa-2 rounded",type:"email",placeholder:"Primeiro nome",rules:T.value,variant:"outlined"},null,8,["modelValue","rules"])]),(0,t._)("div",null,[(0,t.Wm)(g.h,{label:"Email",required:"",modelValue:(0,i.SU)(S),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,i.dq)(S)?S.value=e:S=e),class:"text-white w-100 border-0 pa-2 rounded",type:"email",placeholder:"Seu email",rules:C.value,variant:"outlined"},null,8,["modelValue","rules"])]),(0,t._)("div",null,[(0,t.Wm)(g.h,{label:"Senha",required:"",modelValue:(0,i.SU)(V),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,i.dq)(V)?V.value=e:V=e),class:"text-white w-100 border-0 pa-2 rounded",type:"password",placeholder:"Sua senha",rules:P.value,variant:"outlined"},null,8,["modelValue","rules"])]),(0,t.Wm)(m.T,{disabled:(0,i.SU)(H),loading:(0,i.SU)(H),onClick:a[3]||(a[3]=e=>x()),class:"w-100 my-3 button-registrar"},{default:(0,t.w5)((()=>[(0,t.Uk)("Criar conta")])),_:1},8,["disabled","loading"]),(0,t._)("div",k,[(0,t.Wm)(l,{class:"link-registrar text-decoration-none font-weight-light",to:"/auth/login"},{default:(0,t.w5)((()=>[(0,t.Uk)("Tem uma conta?")])),_:1})])])])),_:1})]),(0,t.Wm)(h.B,{modelValue:(0,i.SU)(H),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,i.dq)(H)?H.value=e:H=e),scrim:!1,persistent:"",width:"auto"},{default:(0,t.w5)((()=>[(0,t.Wm)(c._,{color:"blue-darken-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(v.Z,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Registrando "),(0,t.Wm)(w.K,{indeterminate:"",color:"white",class:"mb-0"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(s.Z,{statePopupPanel:(0,i.SU)(y)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)((0,i.SU)(q)),1)])),_:1},8,["statePopupPanel"])],64)}}},V=l(89);const W=(0,V.Z)(S,[["__scopeId","data-v-12583568"]]);var x=W}}]);
//# sourceMappingURL=208.9cd6b4cb.js.map