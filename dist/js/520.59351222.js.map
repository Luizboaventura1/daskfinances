{"version":3,"file":"js/520.59351222.js","mappings":"4pBAkHA,MAAMA,GAAQC,EAAAA,EAAAA,MAEd,IAAIC,GAAWC,EAAAA,EAAAA,IAAI,KAEnBC,EAAAA,EAAAA,KAAUC,WACRC,EAAAA,EAAAA,KAAWC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,aAAcC,IACtCA,EAASC,SAASC,IAChB,MAAMC,EAAM,CACVC,GAAIF,EAAKE,GACRC,KAAMH,EAAKI,OAAOD,KACnBE,MAAOL,EAAKI,OAAOC,MACnBC,MAAON,EAAKI,OAAOE,OAGrBf,EAASgB,MAAMC,KAAKP,EAAI,GACxB,GACF,IAGJ,IAAIE,GAAOX,EAAAA,EAAAA,IAAI,IACXa,GAAQb,EAAAA,EAAAA,IAAI,IACZc,GAAQd,EAAAA,EAAAA,IAAI,IAEZiB,GAASC,EAAAA,EAAAA,MAEb,MAAMC,EAAmBA,KACvB,IAAIC,EAAYT,EAAKI,MAAMM,OACvBC,EAAaT,EAAME,MAAMM,OACzBE,EAAaT,EAAMC,MAAMM,OAE7B,GAAgB,IAAbD,GAAiC,IAAdE,GAAkC,IAAdC,IAAuE,IAAnDC,EAAcJ,EAAUE,EAAWC,GAAsB,CAErH,IAAIE,EAA0B1B,EAASgB,MAAMW,MAAKlB,GAAQA,EAAKK,MAAMc,WAAWL,KAE5EG,EAsBFG,EAAgB,0BArBhBC,EAAOd,OAAQ,EACfe,YAAW,KACTD,EAAOd,OAAQ,EACfE,EAAOD,KAAK,UAAU,GACtB,MAEFe,EAAAA,EAAAA,KAAO3B,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,YAAa,CACjCM,KAAMS,EACNP,MAAOS,EACPR,MAAOS,IAGT1B,EAAMmC,OAAO,WAAW,CACtBtB,GAAI,GACJC,KAAMS,EACNP,MAAOS,EACPR,MAAOS,EACPU,SAAS,IAMf,MACST,EAAcJ,EAAUE,EAAWC,GAI1CW,EAAYvB,EAAKI,MAAMF,EAAME,MAAMD,EAAMC,OAHzCa,EAAgB,mCAIlB,EAIIJ,EAAgBA,CAACW,EAAKC,EAAMC,IAC7BF,EAAKG,OAAS,GAAKF,EAAMG,MAAM,KAAKD,OAAS,GAAKD,EAASC,QAAU,EAO1E,IAAIT,GAAS7B,EAAAA,EAAAA,KAAI,GAIbwC,GAAsBxC,EAAAA,EAAAA,KAAI,GAC1ByC,GAAuBzC,EAAAA,EAAAA,KAAI,GAC3B0C,GAA0B1C,EAAAA,EAAAA,KAAI,GAElC,MAAMkC,EAAcA,CAACC,EAAKtB,EAAMwB,KAClB,KAATF,IACDK,EAAoBzB,OAAQ,GAGjB,KAAVF,IACD4B,EAAqB1B,OAAQ,GAGf,KAAbsB,IACDK,EAAwB3B,OAAQ,EAClC,EAIF,IAAI4B,GAAkB3C,EAAAA,EAAAA,KAAI,GACtB4C,GAAiB5C,EAAAA,EAAAA,IAAI,IAEzB,MAAM4B,EAAmBiB,IACvBF,EAAgB5B,OAAQ,EACxB6B,EAAe7B,MAAQ8B,EAEvBf,YAAW,KACTa,EAAgB5B,OAAQ,CAAK,GAC7B,IAAK,E,srECxNT,MAAM+B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://app/./src/views/auth/RegistrarView.vue","webpack://app/./src/views/auth/RegistrarView.vue?a42a"],"sourcesContent":["<template>\r\n  <header class=\"d-flex justify-center align-center\">\r\n    <v-container class=\"d-flex justify-center align-center\">\r\n      <form class=\"elevation-10 rounded-lg py-3 px-4\">\r\n        <h1 class=\"text-white text-center mb-5\">Registrar</h1>\r\n\r\n        <div class=\"mb-4\">\r\n          <input\r\n          required\r\n          v-model=\"nome\"\r\n          class=\"text-white w-100 border-0 pa-2 rounded\"\r\n          type=\"email\"\r\n          placeholder=\"Primeiro nome\">\r\n          <ErrorInputLogin\r\n            :statePopup=\"stateErrorInputName\"\r\n          >\r\n            Preencha corretamente!\r\n          </ErrorInputLogin>\r\n        </div>\r\n\r\n        <div class=\"mb-4\">\r\n          <input\r\n          required\r\n          v-model=\"gmail\"\r\n          class=\"text-white w-100 border-0 pa-2 rounded\"\r\n          type=\"email\"\r\n          placeholder=\"Seu email\">\r\n          <ErrorInputLogin\r\n            :statePopup=\"stateErrorInputGmail\"\r\n          >\r\n            Preencha corretamente!\r\n          </ErrorInputLogin>\r\n        </div>\r\n\r\n        <div class=\"mb-6\">\r\n          <input\r\n          required\r\n          v-model=\"senha\"\r\n          class=\"text-white w-100 border-0 pa-2 rounded\"\r\n          type=\"password\"\r\n          placeholder=\"Sua senha\">\r\n          <ErrorInputLogin\r\n            :statePopup=\"stateErrorInputPassword\"\r\n          >\r\n            Preencha corretamente!\r\n          </ErrorInputLogin>\r\n        </div>\r\n\r\n        <v-btn\r\n        :disabled=\"loader\"\r\n        :loading=\"loader\"\r\n        @click=\"registrarUsuario()\"\r\n        class=\"w-100 my-3 button-registrar\"\r\n        >Criar conta</v-btn>\r\n\r\n        <div class=\"w-100 text-center\">\r\n          <router-link\r\n          class=\"link-registrar text-decoration-none font-weight-light\"\r\n          to=\"/auth/login\">Tem uma conta?</router-link>\r\n        </div>\r\n      </form>\r\n    </v-container>\r\n  </header>\r\n\r\n  <v-dialog\r\n      v-model=\"loader\"\r\n      :scrim=\"false\"\r\n      persistent\r\n      width=\"auto\"\r\n    >\r\n      <v-card\r\n        color=\"blue-darken-1\"\r\n      >\r\n        <v-card-text>\r\n          Registrando\r\n          <v-progress-linear\r\n            indeterminate\r\n            color=\"white\"\r\n            class=\"mb-0\"\r\n          ></v-progress-linear>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  <AlertPopupPanel\r\n    :statePopupPanel=\"statePopupPanel\"\r\n  >\r\n    {{ textPopupPanel }}\r\n  </AlertPopupPanel>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport { db } from '@/firebase'\r\nimport { collection, addDoc, onSnapshot } from \"firebase/firestore\";\r\nimport { useRouter } from 'vue-router';\r\nimport { onMounted } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport ErrorInputLogin from '@/components/Popups/ErrorLogin/ErrorInputLogin.vue';\r\nimport AlertPopupPanel from '@/components/Popups/PanelPopups/AlertPopupPanel.vue';\r\n//import { getAuth,createUserWithEmailAndPassword } from 'firebase/auth';\r\n\r\n/* Auth\r\nconst auth = getAuth()\r\n\r\nconst registerUser = () => {\r\n  createUserWithEmailAndPassword(auth,'luiz2123@gmail.com','233784').then(user => {\r\n    console.log(user.user)\r\n  }).catch(error => [\r\n    console.log(error)\r\n  ])\r\n}\r\n*/\r\n//==================================\r\n\r\nconst store = useStore()\r\n\r\nlet AllUsers = ref([])\r\n\r\nonMounted(async () => {\r\n  onSnapshot(collection(db, \"usuarios\"), (snapshot) => {\r\n    snapshot.forEach((user) => {\r\n      const obj = {\r\n        id: user.id,\r\n         nome: user.data().nome,\r\n        gmail: user.data().gmail,\r\n        senha: user.data().senha\r\n      }\r\n\r\n      AllUsers.value.push(obj)\r\n    })\r\n  });\r\n})\r\n\r\nlet nome = ref('')\r\nlet gmail = ref('')\r\nlet senha = ref('')\r\n\r\nlet router = useRouter()\r\n\r\nconst registrarUsuario = () => {\r\n  let nomeValue = nome.value.trim()\r\n  let gmailValue = gmail.value.trim()\r\n  let senhaValue = senha.value.trim()\r\n\r\n  if(nomeValue != '' && gmailValue != '' && senhaValue != '' && errorRegister(nomeValue,gmailValue,senhaValue) === true) {\r\n\r\n    let verificarSeAContaExiste = AllUsers.value.some(user => user.gmail.startsWith(gmailValue))\r\n    \r\n    if(!verificarSeAContaExiste) {\r\n      loader.value = true\r\n      setTimeout(() => {\r\n        loader.value = false\r\n        router.push('/painel')\r\n      },900)\r\n      \r\n      addDoc(collection(db, \"usuarios\"), {\r\n        nome: nomeValue,\r\n        gmail: gmailValue,\r\n        senha: senhaValue\r\n      });\r\n\r\n      store.commit('addToken',{\r\n        id: '',\r\n        nome: nomeValue,\r\n        gmail: gmailValue,\r\n        senha: senhaValue,\r\n        tokenOn: true\r\n      })\r\n\r\n    }else {\r\n      alertPopupPanel('Essa conta jÃ¡ existe!')\r\n    }\r\n  }\r\n  else if(!errorRegister(nomeValue,gmailValue,senhaValue)) {\r\n    alertPopupPanel('Preencha os campos corretamente!')\r\n  }\r\n  else {\r\n    ErrorInputs(nome.value,gmail.value,senha.value)\r\n  }\r\n}\r\n\r\n\r\nconst errorRegister = (name,email,password) => {\r\n  if(name.length > 1 && email.split('@').length > 1 && password.length >= 8) \r\n    return true\r\n  return false\r\n}\r\n\r\n// Loader\r\n\r\nlet loader = ref(false)\r\n\r\n// Popups\r\n\r\nlet stateErrorInputName = ref(false)\r\nlet stateErrorInputGmail = ref(false)\r\nlet stateErrorInputPassword = ref(false)\r\n\r\nconst ErrorInputs = (name,gmail,password) => {\r\n  if(name === '') {\r\n    stateErrorInputName.value = true\r\n  }\r\n\r\n  if(gmail === '') {\r\n    stateErrorInputGmail.value = true\r\n  }\r\n\r\n  if(password === '') {\r\n    stateErrorInputPassword.value = true\r\n  }\r\n\r\n}\r\n\r\nlet statePopupPanel = ref(false)\r\nlet textPopupPanel = ref('')\r\n\r\nconst alertPopupPanel = (msg) => {\r\n  statePopupPanel.value = true\r\n  textPopupPanel.value = msg\r\n\r\n  setTimeout(() => {\r\n    statePopupPanel.value = false\r\n  },2000)\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n  header {\r\n    height: 100vh;\r\n    background-color: #17191c;\r\n\r\n    form {\r\n      width: 100%;\r\n      max-width: 400px;\r\n      min-height: 350px;\r\n      background-color: #25272c;\r\n\r\n      input {\r\n        outline: none;\r\n        background-color: #17191c;\r\n      }\r\n\r\n      .link-registrar {\r\n        color: #959595;\r\n        font-size: 15px;\r\n\r\n        &:hover {\r\n          color: #949494;\r\n          text-decoration: underline !important;\r\n        }\r\n      }\r\n\r\n      .button-registrar {\r\n        background-color: #00b2ff;\r\n        color: white;\r\n        box-shadow: none;\r\n\r\n        &:hover {\r\n          box-shadow: 0 0 10px #0084ff65;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>","import script from \"./RegistrarView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RegistrarView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RegistrarView.vue?vue&type=style&index=0&id=fe8c6aee&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\PC\\\\Documents\\\\GitHub\\\\daskfinances\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fe8c6aee\"]])\n\nexport default __exports__"],"names":["store","useStore","AllUsers","ref","onMounted","async","onSnapshot","collection","db","snapshot","forEach","user","obj","id","nome","data","gmail","senha","value","push","router","useRouter","registrarUsuario","nomeValue","trim","gmailValue","senhaValue","errorRegister","verificarSeAContaExiste","some","startsWith","alertPopupPanel","loader","setTimeout","addDoc","commit","tokenOn","ErrorInputs","name","email","password","length","split","stateErrorInputName","stateErrorInputGmail","stateErrorInputPassword","statePopupPanel","textPopupPanel","msg","__exports__"],"sourceRoot":""}